# Lab 1b â€” Incident Response Report

## SECTION 1: INCIDENT SUMMARY

### 1.1 What Failed? (Be specific)

**Failure Description:**
[DESCRIBE WHAT YOU OBSERVED]

Example format:
- Application cannot connect to RDS
- /list endpoint returns HTTP 500
- CloudWatch logs show "Access denied for user 'admin'"
- Alarm triggered at [TIMESTAMP]

---

### 1.2 How Was It Detected?

**Detection Method:**
[DESCRIBE HOW YOU FOUND THE PROBLEM]

Example:
- CloudWatch Alarm: lab-db-connection-failure transitioned to ALARM
- SNS notification received via email
- Manual check of /list endpoint returned error

---

### 1.3 Root Cause Analysis

**Root Cause (Select one):**
- [ ] Credential Drift (Password mismatch)
- [ ] Network Isolation (SG rule removed)
- [ ] Database Interruption (RDS stopped)
- [ ] Other: ___________________

**Evidence Supporting Root Cause:**
[SHOW CLI OUTPUT OR LOG ENTRIES THAT PROVE THIS]

Example:
```
$ aws logs filter-log-events --log-group-name /aws/ec2/chrisbarm-rds-app --filter-pattern "Access denied"
[ERROR] Access denied for user 'admin'@'10.0.1.15'
```

---

### 1.4 Time to Recovery (MTTR)

**Incident Detection Time:** [TIMESTAMP]
**Recovery Started Time:** [TIMESTAMP]
**Recovery Complete Time:** [TIMESTAMP]
**Total MTTR:** [MINUTES:SECONDS]

---

## SECTION 2: REMEDIATION

### 2.1 Recovery Action Taken

**Action (Select one):**
- [ ] Updated RDS password to match Secrets Manager
- [ ] Restored EC2 security group access to RDS
- [ ] Started stopped RDS instance
- [ ] Other: ___________________

**Verification Command Output:**
```
[PASTE AWS CLI OUTPUT PROVING RECOVERY]
```

Example:
```
$ aws cloudwatch describe-alarms --alarm-name lab-db-connection-failure
  StateValue: OK
```

---

### 2.2 Proof of Recovery

**Application Is Operational:**
```
$ curl -s http://<EC2_IP>/list | head -5
[PASTE RESPONSE HERE]
```

**Alarm Has Cleared:**
```
$ aws cloudwatch describe-alarms --alarm-name lab-db-connection-failure
  StateValue: OK
  StateUpdatedTime: [TIMESTAMP]
```

**No New Errors in Logs:**
```
$ aws logs filter-log-events \
  --log-group-name /aws/ec2/chrisbarm-rds-app \
  --filter-pattern "ERROR" \
  --start-time <recovery-time>
[PASTE OUTPUT - SHOULD BE EMPTY OR MINIMAL]
```

---

## SECTION 3: PREVENTIVE MEASURES

### 3.1 One Improvement to REDUCE MTTR (Faster Recovery)

**What:** [DESCRIBE THE IMPROVEMENT]

**How It Helps:** [EXPLAIN HOW THIS SPEEDS RECOVERY]

Example:
- Automated runbook that runs recovery scripts based on alarm classification
- This reduces manual diagnosis time from 10 minutes to 2 minutes
- Expected MTTR reduction: 75%

---

### 3.2 One Improvement to PREVENT RECURRENCE (Prevent This Incident)

**What:** [DESCRIBE THE PREVENTION MEASURE]

**How It Prevents:** [EXPLAIN THE ROOT CAUSE IT ADDRESSES]

Example:
- Automated test that compares RDS password with Secrets Manager every 5 minutes
- Alerts if drift is detected before application breaks
- Prevents credential drift incidents entirely

---

## SECTION 4: REFLECTION QUESTIONS

**A) Why might Parameter Store still exist alongside Secrets Manager?**

[YOUR ANSWER]

---

**B) What breaks first during secret rotation?**

[YOUR ANSWER]

---

**C) Why should alarms be based on symptoms instead of causes?**

[YOUR ANSWER]

---

**D) How does this lab reduce mean time to recovery (MTTR)?**

[YOUR ANSWER]

---

**E) What would you automate next?**

[YOUR ANSWER]

---

## SECTION 5: INCIDENT METRICS

| Metric | Value |
|--------|-------|
| Time to Alarm Trigger | ___ min |
| Time to Root Cause | ___ min |
| Time to Recovery | ___ min |
| Total MTTR | ___ min |
| Systems Affected | Application / RDS / Both |
| Data Lost | None / Partial / Full |
| Customer Impact | None / Degraded / Outage |

---

## SECTION 6: SIGN-OFF

**Incident Responder:** [YOUR NAME]
**Date:** [TODAY'S DATE]
**Time Completed:** [TIMESTAMP]

**Verification Checklist:**
- [ ] Root cause correctly identified
- [ ] Recovery executed without redeploy
- [ ] Application operational
- [ ] Alarm cleared
- [ ] All CLI commands and outputs documented
- [ ] Preventive measures proposed
- [ ] Reflection questions answered

